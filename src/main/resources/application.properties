# === App Config ===
spring.application.name=reservation-service
spring.config.import=optional:file:.env[.properties],optional:file:./UPLEARN/.env[.properties]

# Mongo
spring.data.mongodb.uri=${DB_URI}
spring.data.mongodb.database=${DB_NAME}
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration

# Puerto y zona horaria
server.port=8090
spring.jackson.time-zone=America/Bogota

# CORS
app.cors.allowed-origins=http://localhost:5173,http://localhost:3000,http://localhost:8080

# === Users service (Online Tutoring) ===
user.service.base-url=${USER_SERVICE_BASE_URL:http://localhost:8080}
# Ruta del endpoint público (ajústalo si tu despliegue no usa /Api-user):
user.service.profile-path=${USER_SERVICE_PROFILE_PATH:/Api-user/public/profile}

# Caches
roles.cache.ttl-seconds=${ROLES_CACHE_TTL:240}
roles.cache.max-size=${ROLES_CACHE_MAX:10000}
# Nuevo caché para perfiles públicos (si no pones nada, hereda los de roles)
profiles.cache.ttl-seconds=${PROFILES_CACHE_TTL:${ROLES_CACHE_TTL:240}}
profiles.cache.max-size=${PROFILES_CACHE_MAX:${ROLES_CACHE_MAX:10000}}

# Logging
logging.level.edu.eci.arsw=INFO
server.error.include-message=always
server.error.include-stacktrace=always
spring.data.mongodb.auto-index-creation=true
logging.level.org.springframework.data.mongodb=DEBUG
logging.level.edu.eci.arsw=DEBUG
